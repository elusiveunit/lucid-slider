/*! Lucid Slider 1.5.0 - Slider edit screen */
var lucidSliderEditScreen=function(a){"use strict";function b(){g.fieldsCount=g.$extraFields[0].children.length,g.$templateInputs=g.$templates.find('input[type="radio"]'),c(),f()}function c(){g.$slides.on("click",".lsjl-upload",function(b){b.preventDefault(),d(a(this).parents(".wpa_group-slide-group"),this)}),g.$slides.on("click",".lsjl-expand-group",function(b){b.preventDefault(),e(a(this).prev())}),g.$templates.on("click","input",function(){g.$templateInputs.each(function(){a(this).parent().removeClass("selected")}),a(this).parent().addClass("selected")}),a("#wpa_loop-slide-group").sortable(g.sortableSettings)}function d(b,c){if("undefined"!=typeof b){var d,e=b.find(g.selector.thumbnail),f=b.find(g.selector.thumbnailId),h=e.find(g.selector.thumbnailUrl),i=b.find(g.selector.url),j=e.find("img");if(d)return d.open(),void 0;d=wp.media.frames.lucidSliderFrame=wp.media({title:a(c).data("uploader-title"),button:{text:a(c).data("uploader-button-text")},multiple:!1}),d.on("select",function(){var a=d.state().get("selection").first().toJSON(),b=a.url;b=b.split("."),b[b.length-2]=b[b.length-2]+"-120x80",b=b.join("."),f.val(a.id),i.val(a.filename),h.val(b),j.attr("src",b)}),d.open()}}function e(a){a.toggleClass(function(){var b=a.next();return a.hasClass("expanded")?b.text(b.data("show-text")):b.text(b.data("hide-text")),"expanded"})}function f(){g.fieldsCount>0&&g.$slides.find(".lsjl-fields-wrap").addClass("expandable")}var g={$slides:a("#lsjl-slides"),$templates:a("#lsjl-slider-template"),$templateInputs:null,$extraFields:a(".lsjl-extra-fields"),$firstWrap:a(".wpa_group-slide-group.first .lsjl-fields-wrap"),$firstWrapInner:null,fieldsCount:0,sortableSettings:{handle:".lsjl-move-handle",tolerance:"pointer",placeholder:"lsjl-placeholder",forcePlaceholderSize:!0,stop:function(){a("#lsjl-sort-message").css({display:"block"})}},selector:{thumbnail:".lsjl-slide-thumbnail",thumbnailId:".lsjl-slide-thumbnail-id",thumbnailUrl:".lsjl-slide-thumbnail-field",url:".lsjl-slide-url-field"}};return{settings:g,init:b}}(jQuery,window);jQuery(document).ready(function(){"use strict";lucidSliderEditScreen.init()});